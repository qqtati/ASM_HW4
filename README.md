# ASM_HW4

БПИ 219 Талалаев Геннадий Алексеевич

# Отчёт 4 балла:
### 1
![4_1](crit/4_1.png)


![var](crit/var.png)

### 2
![4_2](crit/4_2.png)

> Клиенты и серверы – еще один способ взаимодействия неравноправных потоков. Клиентский поток (Buyer) запрашивает сервер и ждет ответа. Серверный поток (Seller) ожидает запроса от клиента, затем действует в соответствии с поступившим запросом. 
> Каждый Buyer заполняют одну из трёх ячеек по конкретному индексу, если она пуста, и ждёт ответа от сервера (пока продавец обслуживает покупателя). Завершается, если план был выполнен. 
> Три Seller'а, каждый следит за своей одной ячейкой (ждёт запроса/сигнала), затем принимают полученного Buyer'а, обрабатывает его и помещает опять пустое значение, ожидая следующего запроса. Завершается, если кончились Buyer'ы, а так работает по принципу: "Солнце встало, нeгpы пашут, солнце село, нeгpы пляшут".

### 3
![4_3](crit/4_3.png)
> 1. Потоков продавцов (Seller'ов) всегда три по условию
> 2. Количество потоков покупателей (Buyer'ов) задаваемое вручную значение
> 3. Количество дел в плане каждого покупателя задаваемое или случайное значение. Чем больше номеров отделов в плане, тем больше очередей и "конфликтов" между покупателями, то есть дольше работает программа, пока все не будут обслужены.
> 4. Если покупатели встали в очерь к одному продовцу одновременно, то порядок их обслуживания решается рыцарским поединком... Шутка! Просто какой-то поток случайно победит.

### 4
![4_4](crit/4_4.png)
> Реализовано, лежит в файле main.cpp

### 5
![4_5](crit/4_5.png)
> Реализован

### 6
![4_6](crit/4_6.png)
> Отчет добавлен

---- 
<br/>

# Отчёт 5 баллов:

### 1
![5_1](crit/5_1.png)
> Коментарии добавлены

### 2
![5_2](crit/5_2.png)
> 1. Магазин открывается - день начинается
> 2. Три продавца-потока открывают кассы в своих отделах и ждут пока все покупатели не закончатся, обрабатывая подходящих к ним клиентов
> 3. Приходит n покупателей-потоков со своими планами (к открытию магазина)
> 4. Покупатели, смотря на свои планы, по очереди проходят к нужным отделам, вставая в очередь только к нужному продавцу, не мешая другим очередям.
> 5. Будучи принятыми продавцом, который закончил работу с предыдущим клиентов, не дают подойти другим покупателям к этой же кассе.
> 6. Как только последний пункт из плана покупателя вычеркнут - он покидает магазин.
> 7. Как только все покупатели покинули магазин - продавцы перестают работать и тоже уходят.
> 8. Магазин закрыт - день закончен

Продавцы работают отдельно и никак не мешают друг-другу (вообще не пересекаются)
Покупатели занимают очередь к конкретному продавцу и принимаются по готовности

---- 
<br/>

# Отчет 6 баллов:

### 1
![6_1](crit/6_1.png)
>1. Запуск main
>2. Создание 3-х потоков продавцов и на каждого по mutex
>2.1. 3 Потока работают параллельно пока существует хотя бы 1 поток покупателя и ждут, когда значение покупателя станет значимым/ Если потоки закончатся -> 4
>2.2. Поток ожидает, когда к нему придет значение, через while
>2.3. Поток обрабатывает значение покупателя, и к i-ому элементу массива = nullptr - дальше возвращается в 2.2
>3.Создание n потоков покупателей
>3.1 N потоков работает параллельно
>3.2 Пока Виег имеет в плане номер отдела (его quee не пуста)
>3.2.1 lock mutex _[i]: проходит или ждёт (очередь к і-ому продавцу).
>3.2.2 і-ым значением массива ставит вместо nullptr себя.
>3.2.3 Пока продавец не поставит опять nullptr, покупатель ждёт.
>3.2.4 unlock mutex і - пускает следующего клиента
>3.2.5 Если план закончился - завершает поток -> 3.4
>3.3 Покупатель і-ый заменил і-ый nullptr на себя тем самым "отпустил" из while i-oro покупателя - дальше переходи в 2.3
>3.4 План закончился происходил Join потоков покупателей
>4 Join потоков продавцов
>5 Завершение программы

### 2
![6_2](crit/6_2.png)
> Реализован
### 3
![6_3](crit/6_3.png)
> Отчет сформирован

# Отчет на 7 баллов:
### 1
![7_1](crit/7_1.png)
> Добавлен
### 2
![7_2](crit/7_2.png)
> Приведены
### 3
![7_3](crit/7_3.png)
> Выводится на экран и записывается в файл
### 4
![7_4](crit/7_4.png)
> Расширен
### 5
![7_5](crit/7_5.png)
> Отражены

# Отчет на 8 баллов:
### 1
![8_1](crit/8_1.png)
> Добавлена
### 2
![8_2](crit/8_2.png)
> Приведены
### 3
![8_3](crit/8_3.png)
> Расширен
### 4
![8_4](crit/8_4.png)
> Отражены

